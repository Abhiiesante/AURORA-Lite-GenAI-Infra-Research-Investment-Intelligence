# API env example (Phase 5-ready)
SUPABASE_JWT_SECRET=changeme
OLLAMA_BASE_URL=http://localhost:11434
DATABASE_URL=postgresql+psycopg2://aurora:aurora@postgres:5432/aurora
QDRANT_URL=http://qdrant:6333
MEILI_URL=http://meilisearch:7700
NEO4J_URL=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=aurora
OLLAMA_BASE_URL=http://ollama:11434
ALLOWED_ORIGINS=*

# Optional: enable POST /insights auth with Supabase JWT
# When set, POST /insights requires Authorization: Bearer <JWT signed with this secret>
SUPABASE_JWT_SECRET=

# Admin guard for /admin/* endpoints (required for snapshot smoke/tests)
# Provide the same value as header X-Dev-Token on requests.
DEV_ADMIN_TOKEN=

# Snapshot signing backend
# hmac (default): requires AURORA_SNAPSHOT_SIGNING_SECRET
# sigstore: requires Sigstore client and (optionally) Fulcio/Rekor URLs + identity token
SIGNING_BACKEND=hmac

# HMAC signing secret (only used when SIGNING_BACKEND=hmac)
AURORA_SNAPSHOT_SIGNING_SECRET=

# Sigstore configuration (used when SIGNING_BACKEND=sigstore)
# If omitted, defaults from sigstore are used. Identity token may be required in CI.
# SIGSTORE_FULCIO_URL=https://fulcio.sigstore.dev
# SIGSTORE_REKOR_URL=https://rekor.sigstore.dev
# SIGSTORE_IDENTITY_TOKEN=

# Vector tenant isolation mode
# filter: single collection with tenant_id payload filter (default)
# collection: per-tenant Qdrant collections (e.g., documents_tenant_<TID>)
VECTOR_TENANT_MODE=filter
# Base collection name for document vectors
DOCUMENTS_VEC_COLLECTION_BASE=documents

# Multi-tenancy for search
# Set a default tenant for scripts/retrieval when request context is absent
AURORA_DEFAULT_TENANT_ID=1
# TENANT_INDEXING_MODE=filter|collection (filter keeps single collection with tenant_id filters; collection uses per-tenant collections)
TENANT_INDEXING_MODE=filter
